(function(t){function e(e){for(var n,s,r=e[0],d=e[1],l=e[2],u=0,_=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&_.push(o[s][0]),o[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);c&&c(e);while(_.length)_.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var d=a[r];0!==o[d]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/front/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var c=d;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0144":function(t,e,a){},"0a01":function(t,e,a){"use strict";a("1ff2")},"0dea":function(t,e,a){},"150b":function(t,e,a){},"1ff2":function(t,e,a){},"2e93":function(t,e){},"47c8":function(t,e,a){"use strict";a("0dea")},"4a39":function(t,e,a){"use strict";a("9a1a")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("5a0c"),o=a.n(n),i=a("313e"),s=a("5c96"),r=a.n(s),d=(a("0fae"),a("2ef0")),l=a("2b0e"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header",{directives:[{name:"show",rawName:"v-show",value:!("/login"===t.path),expression:"!(path==='/login')"}]}),a("router-view"),a("Footer",{directives:[{name:"show",rawName:"v-show",value:!("/login"===t.path),expression:"!(path==='/login')"}]})],1)},u=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-header",{staticClass:"header-split-line"},[a("el-row",{attrs:{gutter:20,type:"flex",justify:"end",align:"middle"}},[a("el-col",{attrs:{span:8,align:"left",id:"title"}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("胜者, 先胜而后求战. 败者, 先战而后求胜")])]),a("el-col",{attrs:{span:16}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal","background-color":"#F5F5F5"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/summarize"}},[t._v("Summarize")])],1),a("el-menu-item",{attrs:{index:"2"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/symbol"}},[t._v("Symbol")])],1),a("el-menu-item",{attrs:{index:"3"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/PointGap"}},[t._v("PointGap")])],1),a("el-menu-item",{attrs:{index:"4"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/step"}},[t._v("Step")])],1),a("el-menu-item",{attrs:{index:"5"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/CalcGainloss"}},[t._v("CalcGainloss")])],1),a("el-menu-item",{attrs:{index:"6"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/Prebs"}},[t._v("Prebs")])],1),a("el-menu-item",{attrs:{index:"7"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/StrategyResult"}},[t._v("StrategyResult")])],1),a("el-submenu",{attrs:{index:"8"}},[a("template",{slot:"title"},[a("span",{staticClass:"navFontSize"},[t._v("Note")])]),a("el-menu-item",{attrs:{index:"8-1"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/CommonNoteWrite"}},[t._v("CommonNoteWrite")])],1),a("el-menu-item",{attrs:{index:"8-2"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/note-write"}},[t._v("NoteWrite")])],1),a("el-menu-item",{attrs:{index:"8-3"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/BsNoteWrite"}},[t._v("BsNoteWrite")])],1),a("el-menu-item",{attrs:{index:"8-4"}},[a("router-link",{staticClass:"navFontSize",attrs:{to:"/NormalNote"}},[t._v("NormalNote")])],1)],2)],1)],1)],1)],1)},h=[],m={data:function(){return{activeIndex:"1"}},methods:{handleSelect:function(t,e){console.log(t,e)}}},p=m,f=(a("47c8"),a("2877")),v=Object(f["a"])(p,_,h,!1,null,"76dc9381",null),g=v.exports,C=a("fd2d"),b={name:"App",components:{Header:g,Footer:C["default"]},data:function(){return{path:""}},mounted:function(){this.path=this.$route.path},watch:{$route:function(t,e){this.path=t.path}}},y=b,x=(a("dd7b"),Object(f["a"])(y,c,u,!1,null,"4025d69c",null)),k=x.exports,w=(a("150b"),a("8c4f")),D=a("2f62"),V=(a("d3b7"),a("bc3a")),Y=a.n(V),$=a("4328"),M=a.n($),S="http://82.156.207.82:6677/",q=Y.a.create({baseURL:S,timeout:1e5,method:"post"});q.interceptors.request.use((function(t){return j.state.login.token&&(t.headers["Authorization"]="Bearer "+j.state.login.token),t.headers["Content-Type"]||(t.headers["Content-Type"]="application/json"),t}),(function(t){return Promise.reject(t)})),q.interceptors.response.use((function(t){return 200===t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){return Promise.reject(t)}));var T={post:q},I={namespaced:!0,state:function(){return{future_info_ori:{},defaultProps:{children:"children",label:"label"},main_code_interval_raise_fall_data:{D:[],W:[],M:[]},main_code_interval_point_data:{D:[],W:[],M:[]},ts_code_interval_point_data:{D:[],W:[],M:[]},ts_code_interval_pure_holding_data_first_n:[],ts_code_interval_pure_volume_data:{},main_code_relative_close_point_data:{D:[],W:[],M:[]},contract_change_date_by_main_ts_code:[],note_data:[],bs_note_data:[]}},getters:{aside_future_data:function(t){function e(t,a,n){for(var o in t)if("string"===typeof t[o])a.push({label:o,id:[t[o]]}),n.push(t[o]);else{var i=[],s=[];a.push({label:o,id:i,children:s}),e(t[o],s,i),i.forEach((function(t){n.push(t)}))}}var a=[];return e(t.future_info_ori,a,[]),a}},mutations:{set_future_info:function(t,e){t.future_info_ori=e},main_code_interval_raise_fall_data:function(t,e){var a=e.freq_code;t.main_code_interval_raise_fall_data[a]=e.result},main_code_interval_point_data:function(t,e){var a=e.freq_code;t.main_code_interval_point_data[a]=e.result},ts_code_interval_point_data:function(t,e){var a=e.freq_code;t.ts_code_interval_point_data[a]=e.result},ts_code_interval_pure_holding_data_first_n:function(t,e){t.ts_code_interval_pure_holding_data_first_n=e.result},ts_code_interval_pure_volume_data:function(t,e){t.ts_code_interval_pure_volume_data=e.result},main_code_relative_close_point_data:function(t,e){var a=e.freq_code;t.main_code_relative_close_point_data[a]=e.result},contract_change_date_by_main_ts_code:function(t,e){t.contract_change_date_by_main_ts_code=e.result},note_data:function(t,e){t.note_data=e.result},bs_note_data:function(t,e){t.bs_note_data=e.result}},actions:{main_code_interval_raise_fall_data:function(t,e){var a=e.start_date,n=e.end_date,o=e.ts_code_list,i=e.freq_code;T.post({url:"summarize/main_code_interval_raise_fall_data",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),ts_code_list:o,freq_code:i}}).then((function(e){200===e.status&&t.commit("main_code_interval_raise_fall_data",{result:e.data,freq_code:i})})).catch((function(t){console.log(t)}))},main_code_interval_point_data:function(t,e){var a=e.start_date,n=e.end_date,o=e.ts_code,i=e.freq_code;T.post({url:"point/main_code_interval_point_data",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),ts_code:o,freq_code:i}}).then((function(e){200===e.status&&t.commit("main_code_interval_point_data",{result:e.data,freq_code:i})})).catch((function(t){console.log(t)}))},ts_code_interval_point_data:function(t,e){var a=e.start_date,n=e.end_date,o=e.ts_code,i=e.freq_code;T.post({url:"point/ts_code_interval_point_data",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),ts_code:o,freq_code:i}}).then((function(e){200===e.status&&t.commit("ts_code_interval_point_data",{result:e.data,freq_code:i})})).catch((function(t){console.log(t)}))},ts_code_interval_pure_holding_data_first_n:function(t,e){var a=e.start_date,n=e.end_date,o=e.ts_code;T.post({url:"point/ts_code_interval_pure_holding_data_first_n",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),ts_code:o}}).then((function(e){200===e.status&&t.commit("ts_code_interval_pure_holding_data_first_n",{result:e.data})})).catch((function(t){console.log(t)}))},ts_code_interval_pure_volume_data:function(t,e){var a=e.start_date,n=e.end_date,o=e.ts_code;T.post({url:"point/ts_code_interval_pure_volume_data",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),ts_code:o}}).then((function(e){200===e.status&&t.commit("ts_code_interval_pure_volume_data",{result:e.data})})).catch((function(t){console.log(t)}))},main_code_relative_close_point_data:function(t,e){var a=e.start_date,n=e.end_date,o=e.ts_code_list,i=e.freq_code;T.post({url:"summarize/main_code_relative_close_point_data",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),ts_code_list:o,freq_code:i}}).then((function(e){200===e.status&&t.commit("main_code_relative_close_point_data",{result:e.data,freq_code:i})})).catch((function(t){console.log(t)}))},contract_change_date_by_main_ts_code:function(t,e){var a=e.start_date,n=e.end_date,o=e.main_ts_code;T.post({url:"symbol/get_contract_change_date_by_main_ts_code",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),main_ts_code:o}}).then((function(e){200===e.status&&t.commit("contract_change_date_by_main_ts_code",{result:e.data})})).catch((function(t){console.log(t)}))},note_data:function(t,e){var a=e.start_date,n=e.end_date,o=e.main_ts_code;T.post({url:"note/get_note",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),main_ts_code:o}}).then((function(e){200===e.status&&t.commit("note_data",{result:e.data})})).catch((function(t){console.log(t)}))},bs_note_data:function(t,e){var a=e.start_date,n=e.end_date,o=e.main_ts_code;T.post({url:"note/get_bs_note",data:{start_date:a.format("YYYY-MM-DD"),end_date:n.format("YYYY-MM-DD"),main_ts_code:o}}).then((function(e){200===e.status&&t.commit("bs_note_data",{result:e.data})})).catch((function(t){console.log(t)}))}}},A={namespaced:!0,state:function(){return{user:window.sessionStorage.getItem("user"),token:window.sessionStorage.getItem("token")}},getters:{},mutations:{set_token:function(t,e){t.token=e,window.sessionStorage.setItem("token",e)},set_user:function(t,e){t.user=e,window.sessionStorage.setItem("user",e)},logout:function(t){t.token=null,t.user=null,window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("user")}},actions:{}};l["default"].use(D["a"]);var j=new D["a"].Store({state:{},mutations:{},actions:{},modules:{login:A,future_info:I}}),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"bsNoteWrite"}},[a("el-header",{staticClass:"header-split-line"},[a("el-col",{attrs:{span:6}},[a("dateCom",{attrs:{dateComValue:t.dateComValue},on:{changeDate:t.changeEventDate}})],1),a("el-col",{attrs:{span:6}},[a("tsCodeCom",{attrs:{tsCodeComValue:t.tsCodeComValue,mainTsCode:t.mainTsCode},on:{changeCode:t.changeTsCodeComValue}})],1),a("el-col",{attrs:{span:6}},[a("freqCodeCom",{attrs:{freqCodeComValue:t.freqCodeComValue},on:{changeFreqCode:t.changeFreqCodeComValue}})],1)],1),a("el-header",{staticClass:"header-split-line"},[a("el-col",{attrs:{span:6}},[a("tradeTypeCom",{attrs:{tradeTypeValue:t.tradeTypeValue},on:{changeTradeType:t.changeTradeType}})],1),a("el-col",{attrs:{span:6}},[a("normalInputCom",{attrs:{comValue:t.bs_number,comName:"交易数量"},on:{changeComValue:t.changeBsNumber}})],1),a("el-col",{attrs:{span:6}},[a("normalInputCom",{attrs:{comValue:t.bs_point,comName:"交易价格"},on:{changeComValue:t.changeBsPoint}})],1)],1),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("h2",[t._v("BS Note")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:50},placeholder:"请输入内容"},model:{value:t.bs_note,callback:function(e){t.bs_note=e},expression:"bs_note"}}),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.commit_bs_note(e)}}},[t._v("提交")])],1)],1)],1)},F=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block box-align",attrs:{align:"left"}},[a("span",{staticClass:"demonstration"},[t._v("日期")]),a("el-date-picker",{staticClass:"box-border",attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions},on:{change:t.changeDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)},W=[],E={data:function(){return{date:this.$attrs.dateComValue,pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()+12096e5},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}},{text:"一月前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-2592e6),t.$emit("pick",e)}}]}}},methods:{changeDate:function(t){this.$emit("changeDate",t)}}},N=E,L=(a("cdba"),Object(f["a"])(N,P,W,!1,null,"444cdbf4",null)),z=L.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-autocomplete block box-align",attrs:{align:"left"}},[a("span",{staticClass:"demonstration"},[t._v("代码")]),a("el-autocomplete",{staticClass:"inline-input box-border",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入内容"},on:{input:t.changeCode},model:{value:t.tsCodeComValue,callback:function(e){t.tsCodeComValue=e},expression:"tsCodeComValue"}})],1)},U=[],G=(a("1276"),a("ac1f"),a("fb6a"),a("25f0"),{data:function(){return{tsCodeComValue:this.$attrs.tsCodeComValue}},computed:{tsCodeList:function(){for(var t=[],e=this.$attrs.mainTsCode.split("."),a=new Date,n=a.getFullYear().toString().slice(2),o=1;o<=12;o++)o<10?t.push({value:e[0]+n+"0"+o+"."+e[1]}):t.push({value:e[0]+n+o+"."+e[1]});return t}},methods:{changeCode:function(t){this.$emit("changeCode",t)},querySearch:function(t,e){var a=this.tsCodeList;e(a)}}}),R=G,K=(a("fa58"),Object(f["a"])(R,B,U,!1,null,"0c717658",null)),H=K.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block box-align",attrs:{align:"left"}},[a("span",{staticClass:"demonstration"},[t._v("频率")]),a("el-autocomplete",{staticClass:"inline-input box-border",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入内容"},on:{input:t.changeFreqCode},model:{value:t.freqCodeComValue,callback:function(e){t.freqCodeComValue=e},expression:"freqCodeComValue"}})],1)},X=[],Z={data:function(){return{freqCodeComValue:this.$attrs.freqCodeComValue}},methods:{changeFreqCode:function(t){this.$emit("changeFreqCode",t)},querySearch:function(t,e){var a=[{value:"D"},{value:"W"},{value:"M"}];e(a)}}},Q=Z,tt=(a("7559"),Object(f["a"])(Q,J,X,!1,null,"69768647",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block box-align",attrs:{align:"left"}},[a("span",{staticClass:"demonstration"},[t._v("交易类型")]),a("el-autocomplete",{staticClass:"inline-input box-border",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入内容"},on:{input:t.changeTradeType},model:{value:t.tradeTypeValue,callback:function(e){t.tradeTypeValue=e},expression:"tradeTypeValue"}})],1)},nt=[],ot={data:function(){return{tradeTypeValue:this.$attrs.tradeTypeValue}},methods:{changeTradeType:function(t){this.$emit("changeTradeType",t)},querySearch:function(t,e){var a=[{value:"long_open"},{value:"long_gallon"},{value:"long_reduce"},{value:"long_close"},{value:"short_open"},{value:"short_gallon"},{value:"short_reduce"},{value:"short_close"}];e(a)}}},it=ot,st=(a("a257"),Object(f["a"])(it,at,nt,!1,null,"50c60885",null)),rt=st.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block box-align",attrs:{align:"left"}},[a("span",{staticClass:"demonstration"},[t._v(t._s(t.comName))]),a("el-input",{staticClass:"inline-input box-border",attrs:{placeholder:"请输入内容"},on:{input:t.changeComValue},model:{value:t.comValue,callback:function(e){t.comValue=e},expression:"comValue"}})],1)},lt=[],ct={data:function(){return{comValue:this.$attrs.comValue}},props:["comName"],methods:{changeComValue:function(t){this.$emit("changeComValue",t)}}},ut=ct,_t=(a("7c63"),Object(f["a"])(ut,dt,lt,!1,null,"7b14e9e8",null)),ht=_t.exports,mt={data:function(){return{mainTsCode:"",dateComValue:this.dayjs(),tsCodeComValue:"",freqCodeComValue:"",tradeTypeValue:"",bs_note:"",bs_number:"",bs_point:""}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]}},methods:{aside_data_click:function(t){1==t.id.length&&(this.mainTsCode=t.id[0],this.tsCodeComValue="")},changeEventDate:function(t){this.dateComValue=this.dayjs(t)},changeTsCodeComValue:function(t){this.tsCodeComValue=t},changeFreqCodeComValue:function(t){this.freqCodeComValue=t},changeTradeType:function(t){this.tradeTypeValue=t},changeBsNumber:function(t){this.bs_number=t},changeBsPoint:function(t){this.bs_point=t},commit_bs_note:function(){var t=this;this.bs_note&&this.dateComValue&&this.tsCodeComValue&&this.freqCodeComValue&&this.tradeTypeValue&&this.bs_number&&this.bs_point?T.post({url:"note/bs_note_write",data:{main_ts_code:this.mainTsCode,ts_code:this.tsCodeComValue,trade_date:this.dateComValue.format("YYYY-MM-DD"),freq_code:this.freqCodeComValue,trade_type:this.tradeTypeValue,number:this.bs_number,point:this.bs_point,note:this.bs_note}}).then((function(e){200===e.status&&t.$message({message:"提交成功",type:"success"})})).catch((function(e){t.$message({message:e,type:"error"})})):this.$message({message:"参数不合法 提交失败",type:"error"})}},components:{dateCom:z,tsCodeCom:H,freqCodeCom:et,tradeTypeCom:rt,normalInputCom:ht}},pt=mt,ft=Object(f["a"])(pt,O,F,!1,null,"0af9d4ee",null),vt=ft.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"calcGainLoss"}},[a("el-header",{staticClass:"header-split-line"}),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[t._v(" 合约代码: "),a("el-button",[t._v(t._s(t.mainTsCode))])],1),a("el-col",{attrs:{span:8}},[t._v(" 损益计算: "),a("el-button",[t._v(t._s(t.gainloss))])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("normalInputCom",{attrs:{comValue:t.openPoint,comName:"开仓点位"},on:{changeComValue:t.changeOpenPoint}})],1),a("el-col",{attrs:{span:8}},[a("normalInputCom",{attrs:{comValue:t.closePoint,comName:"平仓点位"},on:{changeComValue:t.changeclosePoint}})],1),a("el-col",{attrs:{span:8}},[a("normalInputCom",{attrs:{comValue:t.bsNumber,comName:"开仓数量"},on:{changeComValue:t.changebsNumber}})],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("InputSelectionCom",{attrs:{inputValue:t.longShort,selectOption:t.selectOption,comName:"多空选择"},on:{changeInputValue:t.changelongShort}})],1)],1)],1)],1)],1)},Ct=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block box-align",attrs:{align:"left"}},[a("span",{staticClass:"demonstration"},[t._v(t._s(t.comName))]),a("el-autocomplete",{staticClass:"inline-input box-border",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入内容"},on:{input:t.changeInputValue},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)},yt=[],xt={data:function(){return{inputValue:this.$attrs.inputValue}},props:["comName","selectOption"],methods:{changeInputValue:function(t){this.$emit("changeInputValue",t)},querySearch:function(t,e){var a=[];if(this.selectOption)for(var n in this.selectOption)a.push({value:this.selectOption[n]});e(a)}}},kt=xt,wt=(a("0a01"),Object(f["a"])(kt,bt,yt,!1,null,"8acfc6e4",null)),Dt=wt.exports,Vt={data:function(){return{mainTsCode:"合约代码",selectOption:["long","short"],openPoint:0,closePoint:0,bsNumber:1,longShort:"",per_unit:0}},watch:{mainTsCode:function(t,e){this.get_per_unit()}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]},gainloss:function(){var t=this.openPoint,e=this.closePoint,a=this.bsNumber,n=this.longShort,o=this.per_unit,i=(e-t)*a*o;return i="short"==n?-i:"long"==n?i:0,i}},methods:{aside_data_click:function(t){1==t.id.length&&(this.mainTsCode=t.id[0])},changeOpenPoint:function(t){this.openPoint=t},changeclosePoint:function(t){this.closePoint=t},changebsNumber:function(t){this.bsNumber=t},changelongShort:function(t){this.longShort=t},get_per_unit:function(){var t=this;this.mainTsCode?T.post({url:"symbol/get_per_unit_by_fut_code",data:{main_ts_code:this.mainTsCode}}).then((function(e){200===e.status&&(t.per_unit=e.data)})).catch((function(e){t.$message({message:e,type:"error"})})):this.$message({message:"参数不合法 查询失败",type:"error"})}},components:{normalInputCom:ht,InputSelectionCom:Dt}},Yt=Vt,$t=Object(f["a"])(Yt,gt,Ct,!1,null,"2a93ab17",null),Mt=$t.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"commonNoteWrite"}},[a("el-header",{staticClass:"header-split-line"},[a("el-col",{attrs:{span:6}},[a("dateCom",{attrs:{dateComValue:t.dateComValue},on:{changeDate:t.changeEventDate}})],1),a("el-col",{attrs:{span:6}},[a("freqCodeCom",{attrs:{freqCodeComValue:t.freqCodeComValue},on:{changeFreqCode:t.changeFreqCodeComValue}})],1)],1),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("h2",[t._v("Note")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:50},placeholder:"请输入内容"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.commit_note(e)}}},[t._v("提交")])],1)],1)],1)},qt=[],Tt={data:function(){return{mainTsCode:"",dateComValue:this.dayjs(),freqCodeComValue:"",note:""}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]}},methods:{aside_data_click:function(t){1==t.id.length&&(this.mainTsCode=t.id[0])},changeEventDate:function(t){this.dateComValue=this.dayjs(t)},changeFreqCodeComValue:function(t){this.freqCodeComValue=t},commit_note:function(){var t=this;this.note&&this.dateComValue&&this.freqCodeComValue?T.post({url:"note/note_write",data:{main_ts_code:"common",ts_code:"common",trade_date:this.dateComValue.format("YYYY-MM-DD"),freq_code:this.freqCodeComValue,note:this.note}}).then((function(e){200===e.status&&t.$message({message:"提交成功",type:"success"})})).catch((function(e){t.$message({message:e,type:"error"})})):this.$message({message:"参数不合法 提交失败",type:"error"})}},components:{dateCom:z,freqCodeCom:et}},It=Tt,At=Object(f["a"])(It,St,qt,!1,null,"3af8811a",null),jt=At.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container",attrs:{id:"login"}},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-page",attrs:{model:t.ruleForm2,rules:t.rules2,"status-icon":"","label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[t._v("系统登录")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:t.ruleForm2.username,callback:function(e){t.$set(t.ruleForm2,"username",e)},expression:"ruleForm2.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:t.ruleForm2.password,callback:function(e){t.$set(t.ruleForm2,"password",e)},expression:"ruleForm2.password"}})],1),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.submitLogin}},[t._v("登录")])],1)],1)],1)},Ft=[],Pt={data:function(){return{ruleForm2:{username:"lyb",password:"123"},rules2:{username:[{required:!0,message:"please enter your account",trigger:"blur"}],password:[{required:!0,message:"enter your password",trigger:"blur"}]}}},methods:{submitLogin:function(t){var e=this;this.$refs.ruleForm2.validate((function(t){t&&T.post({url:"token",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:M.a.stringify({grant_type:"password",username:e.ruleForm2.username,password:e.ruleForm2.password})}).then((function(t){200===t.status&&(e.$store.commit("login/set_token",t.data.access_token),e.$store.commit("login/set_user",e.ruleForm2.username),T.post({url:"note/get_file_note_json",data:{file_name:"aside_future_info"}}).then((function(t){200===t.status&&(e.$store.commit("future_info/set_future_info",t.data),e.$router.push({path:"/summarize"}))})).catch((function(t){console.log(t),e.$message({message:"获取 个券列表 失败",type:"error"})})))})).catch((function(t){console.log(t),e.$message({message:"登陆失败",type:"error"})}))}))}}},Wt=Pt,Et=(a("4a39"),Object(f["a"])(Wt,Ot,Ft,!1,null,"3869d602",null)),Nt=Et.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"normalNote"}},[a("el-header",{staticClass:"header-split-line"}),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("ul",{attrs:{id:"array-rendering"}},t._l(t.note,(function(e,n){return a("li",{key:n},[t.lodash.endsWith(e,"-----------------------------------")?[a("p",{staticClass:"item-style-title"},[t._v(t._s(e.split("-----------------------------------")[0]))]),a("el-divider")]:[a("div",{staticClass:"item-style"},[t._v(t._s(e))]),a("el-divider")]],2)})),0)])],1)],1)},zt=[],Bt={data:function(){return{note:[]}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]}},mounted:function(){var t=this;T.post({url:"note/get_file_note_split",data:{file_name:"normal_note"}}).then((function(e){200===e.status&&(t.note=e.data)})).catch((function(e){t.$message({message:e,type:"error"})}))},methods:{aside_data_click:function(t){t.id.length}},components:{}},Ut=Bt,Gt=(a("5fa4"),Object(f["a"])(Ut,Lt,zt,!1,null,"445b33fb",null)),Rt=Gt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"noteWrite"}},[a("el-header",{staticClass:"header-split-line"},[a("el-col",{attrs:{span:6}},[a("dateCom",{attrs:{dateComValue:t.dateComValue},on:{changeDate:t.changeEventDate}})],1),a("el-col",{attrs:{span:6}},[a("tsCodeCom",{attrs:{tsCodeComValue:t.tsCodeComValue,mainTsCode:t.mainTsCode},on:{changeCode:t.changeTsCodeComValue}})],1),a("el-col",{attrs:{span:6}},[a("freqCodeCom",{attrs:{freqCodeComValue:t.freqCodeComValue},on:{changeFreqCode:t.changeFreqCodeComValue}})],1)],1),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("h2",[t._v("Note")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:50},placeholder:"请输入内容"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.commit_note(e)}}},[t._v("提交")])],1)],1)],1)},Ht=[],Jt={data:function(){return{mainTsCode:"",dateComValue:this.dayjs(),tsCodeComValue:"",freqCodeComValue:"",note:""}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]}},methods:{aside_data_click:function(t){1==t.id.length&&(this.mainTsCode=t.id[0],this.tsCodeComValue="")},changeEventDate:function(t){this.dateComValue=this.dayjs(t)},changeTsCodeComValue:function(t){this.tsCodeComValue=t},changeFreqCodeComValue:function(t){this.freqCodeComValue=t},commit_note:function(){var t=this;this.note&&this.dateComValue&&this.tsCodeComValue&&this.freqCodeComValue?T.post({url:"note/note_write",data:{main_ts_code:this.mainTsCode,ts_code:this.tsCodeComValue,trade_date:this.dateComValue.format("YYYY-MM-DD"),freq_code:this.freqCodeComValue,note:this.note}}).then((function(e){200===e.status&&t.$message({message:"提交成功",type:"success"})})).catch((function(e){t.$message({message:e,type:"error"})})):this.$message({message:"参数不合法 提交失败",type:"error"})}},components:{dateCom:z,tsCodeCom:H,freqCodeCom:et}},Xt=Jt,Zt=Object(f["a"])(Xt,Kt,Ht,!1,null,"1b056c21",null),Qt=Zt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"pointGap"}},[a("el-header",{staticClass:"header-split-line"},[a("el-row",{attrs:{gutter:20,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("datecom",{attrs:{dateComValue:t.dateComValue},on:{changeDate:t.changeEventDate}})],1),a("el-col",{attrs:{span:6}},[a("tsCodeMultiSelectCom",{attrs:{mainTsCode:t.mainTsCode},on:{changeCode:t.changeTsCodeComValue}})],1),a("el-col",{attrs:{span:6}},[a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.search_point(e)}}},[t._v("查询")])],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("h3",{staticClass:"comment-height"},[t._v("周线")]),a("multi_point_line",{key:2,attrs:{print_data:t.ts_code_interval_point_data.W}}),a("h3",{staticClass:"comment-height"},[t._v("日线 "+t._s(t.dateComValue.format("YYYY-MM-DD")))]),a("multi_point_line",{key:1,attrs:{print_data:t.ts_code_interval_point_data.D}}),a("div",{staticStyle:{height:"200px"}})],1)],1)],1)},ee=[],ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"main",staticStyle:{width:"auto",height:"400px"},attrs:{id:"main"}})},ne=[],oe={props:["print_data"],mounted:function(){this.echartsInit(),this.echartsUpdate()},data:function(){return{myChart:""}},watch:{print_data:{handler:function(t,e){this.echartsUpdate()},deep:!0}},methods:{echartsInit:function(){this.myChart=this.$echarts.init(this.$refs.main)},echartsUpdate:function(){var t,e=this.print_data["date"],a=[];for(var n in this.print_data["data"])a.push(this.print_data["data"][n]["ts_code"]);for(var o in t={title:{text:""},tooltip:{trigger:"axis"},legend:{data:a},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e},yAxis:{type:"value"},series:[]},this.print_data["data"])t["series"].push({name:this.print_data["data"][o]["ts_code"],symbol:"none",type:"line",data:this.print_data["data"][o]["point"],lineStyle:{width:1.5}});t&&this.myChart.setOption(t,!0)}}},ie=oe,se=Object(f["a"])(ie,ae,ne,!1,null,null,null),re=se.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-autocomplete block box-align",attrs:{align:"left"}},[a("span",{staticClass:"demonstration"},[t._v("代码")]),a("el-select",{staticClass:"inline-input box-border",attrs:{multiple:"",placeholder:"请选择","collapse-tags":""},on:{change:t.changeCode},model:{value:t.ts_code_list,callback:function(e){t.ts_code_list=e},expression:"ts_code_list"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)},le=[],ce={props:["mainTsCode"],data:function(){return{ts_code_list:[]}},computed:{options:function(){var t=[];if(this.mainTsCode){this.ts_code_list=[];for(var e=this.mainTsCode.split("."),a=new Date,n=a.getFullYear().toString().slice(2),o=1;o<=12;o++)o<10?t.push({value:e[0]+n+"0"+o+"."+e[1],label:e[0]+n+"0"+o+"."+e[1]}):t.push({value:e[0]+n+o+"."+e[1],label:e[0]+n+o+"."+e[1]});var i=(parseInt(n)+1).toString();for(o=1;o<=12;o++)o<10?t.push({value:e[0]+i+"0"+o+"."+e[1],label:e[0]+i+"0"+o+"."+e[1]}):t.push({value:e[0]+i+o+"."+e[1],label:e[0]+i+o+"."+e[1]})}return t}},methods:{changeCode:function(t){this.$emit("changeCode",t)}}},ue=ce,_e=(a("7a3a"),Object(f["a"])(ue,de,le,!1,null,"20ac1457",null)),he=_e.exports,me={data:function(){return{dateComValue:this.dayjs(),mainTsCode:"",ts_code_list:[],point_data:{D:{date:[],data:[]},W:{date:[],data:[]}}}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]},ts_code_interval_point_data:function(){return this.point_data}},methods:{aside_data_click:function(t){1==t.id.length&&(this.mainTsCode=t.id[0])},update_point_data:function(t,e){this.point_data[t]=e},search_point:function(){var t=this;this.point_data={D:{date:[],data:[]},W:{date:[],data:[]}};var e=["D","W"],a=function(a){var n=e[a],o=t.dateComValue,i=null;i="D"==n?o.add(-270,"day"):o.add(-180,"week"),T.post({url:"summarize/ts_code_close_point_data_relative_by_oldest_code",data:{start_date:i.format("YYYY-MM-DD"),end_date:o.format("YYYY-MM-DD"),ts_code_list:t.ts_code_list,freq_code:n}}).then((function(e){200===e.status&&t.update_point_data(n,e.data)})).catch((function(t){console.log(t)}))};for(var n in e)a(n)},changeEventDate:function(t){this.dateComValue=this.dayjs(t)},changeTsCodeComValue:function(t){this.ts_code_list=t}},components:{datecom:z,tsCodeMultiSelectCom:he,multi_point_line:re}},pe=me,fe=(a("6181"),Object(f["a"])(pe,te,ee,!1,null,null,null)),ve=fe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"preBS"}},[a("el-header",{staticClass:"header-split-line"}),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",t._l(t.note_data,(function(e,n){return a("ol",{key:n},[a("li",[a("div",{staticClass:"title_level_two"},[t._v(t._s(e.conception))]),a("el-divider"),a("el-table",{ref:"multipleTable",refInFor:!0,staticStyle:{width:"100%"},attrs:{data:e.condition,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"",label:"",width:"70"}}),a("el-table-column",{attrs:{prop:"condition",label:"条件",width:"1200"}})],1),a("el-divider")],1)])})),0)],1)],1)},Ce=[],be={data:function(){return{multipleSelection:[],note_data:[]}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]}},mounted:function(){var t=this;T.post({url:"note/get_json_data",data:{key_name:"prebs"}}).then((function(e){if(200===e.status){var a=[];for(var n in e.data){var o=e.data[n],i=[];for(var s in o.condition)i.push({condition:o.condition[s]});a.push({conception:o.conception,condition:i})}t.note_data=a}})).catch((function(t){console.log(t)}))},methods:{aside_data_click:function(t){},handleSelectionChange:function(t){console.log(t)}},components:{}},ye=be,xe=(a("ecfe"),Object(f["a"])(ye,ge,Ce,!1,null,"9a7fe36e",null)),ke=xe.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"step"}},[a("el-header",{staticClass:"header-split-line"},[a("el-row",{attrs:{gutter:20,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("datecom",{attrs:{dateComValue:t.dateComValue},on:{changeDate:t.changeEventDate}})],1),a("el-col",{attrs:{span:6}},[a("el-button",{staticStyle:{"margin-top":"10px"},on:{click:t.nextDay}},[t._v("下一日")])],1),a("el-col",{attrs:{span:6}},[a("el-button",{staticStyle:{"margin-top":"10px"},on:{click:t.nextWeek}},[t._v("下一周")])],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"main-el-aside"},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("h3",{staticClass:"comment-height"},[t._v("日线 "+t._s(t.plot_data_date))]),a("k_bar",{key:3,attrs:{print_data:t.day_data["plotted"],contract_change_date:t.contract_change_date_by_main_ts_code}}),a("h3",{staticClass:"comment-height"},[t._v("周线")]),a("k_bar",{key:2,attrs:{print_data:t.week_data["plotted"],contract_change_date:t.contract_change_date_by_main_ts_code}}),a("h3",{staticClass:"comment-height"},[t._v("月线")]),a("k_bar",{key:1,attrs:{print_data:t.month_data["plotted"],contract_change_date:t.contract_change_date_by_main_ts_code}})],1)],1)],1)},De=[],Ve=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"main",style:t.printStyle,attrs:{id:"main"}})}),Ye=[],$e=(a("b680"),a("caad"),a("2532"),a("a15b"),a("d81d"),{props:["print_data","contract_change_date","note_data","bs_note_data"],mounted:function(){this.echartsInit()},data:function(){return{myChart:"",timeout_handler:"",printStyle:{width:"1200px",height:"700px"}}},watch:{print_data:{handler:function(t,e){var a=this;clearTimeout(this.timeout_handler),this.timeout_handler=setTimeout((function(){a.echartsUpdate()}),1e3)},deep:!0},contract_change_date:{handler:function(t,e){var a=this;clearTimeout(this.timeout_handler),this.timeout_handler=setTimeout((function(){a.echartsUpdate()}),1e3)},deep:!0},note_data:{handler:function(t,e){var a=this;clearTimeout(this.timeout_handler),this.timeout_handler=setTimeout((function(){a.echartsUpdate()}),1e3)},deep:!0},bs_note_data:{handler:function(t,e){var a=this;clearTimeout(this.timeout_handler),this.timeout_handler=setTimeout((function(){a.echartsUpdate()}),1e3)},deep:!0}},methods:{echartsInit:function(){this.myChart=this.$echarts.init(this.$refs.main)},calcMACD:function(t,e,a,n){function o(t,e){for(var a=2/(t+1),n=[e[0]],o=e.length,i=1;i<o;i++)n.push((a*e[i]+(1-a)*n[i-1]).toFixed(3));return n}function i(t,e,a){var n,i,s,r,d;for(s=[],r=o(t,a),d=o(e,a),n=0,i=a.length;n<i;n++)s.push((r[n]-d[n]).toFixed(3));return s}function s(t,e){return o(t,e)}var r,d,l,c,u,_;for(_={},u=[],l=i(t,e,n),c=s(a,l),r=0,d=n.length;r<d;r++)u.push((2*(l[r]-c[r])).toFixed(3));return _.dif=l,_.dea=c,_.macd=u,_},calculateMA:function(t,e){for(var a=[],n=0,o=e.length;n<o;n++)if(n<t)a.push("-");else{for(var i=0,s=0;s<t;s++)i+=e[n-s][1];a.push(i/t)}return a},getMinValueFromK:function(t){var e=t[0][2];for(var a in t)e=Math.min(e,t[a][2]);return e},completeKData:function(t,e){e.length<=160||(e.splice(0,e.length-160),t.splice(0,t.length-160))},formatNoteData:function(t,e){var a={};for(var n in e){var o=e[n]["trade_date"],i=e[n]["note"];o=this.dayjs(o);while(1){if(t.includes(o.format("YYYY-MM-DD")))break;if(o.format("YYYY-MM-DD")>t[t.length-1]){o=this.dayjs(t[t.length-1]);break}o=o.add(1,"day")}o=o.format("YYYY-MM-DD"),a.hasOwnProperty(o)?a[o]+="\n\n":a[o]="",a[o]+=i}return a},getHighPoint:function(t,e){var a={};for(var n in t)a[t[n]]=e[n][3];return a},getBsNoteDataFormat:function(t,e,a,n){var o={};for(var i in e){var s=e[i]["trade_date"],r=e[i];s=this.dayjs(s);while(1){if(t.includes(s.format("YYYY-MM-DD")))break;if(s.format("YYYY-MM-DD")>t[t.length-1]){s=this.dayjs(t[t.length-1]);break}s=s.add(1,"day")}s=s.format("YYYY-MM-DD"),o.hasOwnProperty(s)||(o[s]=null),a.hasOwnProperty(s)?a[s]+="\n\n":a[s]="";var d=[r["trade_type"],"point: "+r["point"],"number: "+r["number"],r["note"]],l=d.join("\n");a[s]+=l}var c=[];for(var u in o)c.push({name:u,coord:[u,n[u]+n[u]/200],itemStyle:{color:"rgb(41,60,85)"}});return c},getContractChangeDate:function(t,e){var a=[];for(var n in e){var o=e[n];o=this.dayjs(o);while(1){if(t.includes(o.format("YYYY-MM-DD")))break;if(o.format("YYYY-MM-DD")>t[t.length-1])break;o=o.add(1,"day")}o=o.format("YYYY-MM-DD"),a.push({xAxis:o})}return a.sort((function(t,e){return t.xAxis-e.xAxis})),a},echartsUpdate:function(){var t,e=this.print_data.date,a=this.print_data.data,n=this.contract_change_date,o=this.note_data,i=this.bs_note_data;this.completeKData(e,a);var s=this.getMinValueFromK(a);this.$refs.main.style.width=7.5*a.length+"px",this.myChart.clear(),this.myChart.resize();var r=this.formatNoteData(e,o),d=this.getHighPoint(e,a),l=this.getBsNoteDataFormat(e,i,r,d),c=this.getContractChangeDate(e,n),u=this.print_data.data.map((function(t){return t[1]})),_=this.calcMACD(12,26,9,u);t={tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(t){return r.hasOwnProperty(t[0].axisValue)?r[t[0].axisValue]:""},extraCssText:"width:280px; white-space:pre-wrap; text-align:left"},axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#777"}},toolbox:{feature:{saveAsImage:{show:!0}}},grid:[{height:"60%",left:"10%",bottom:"35%"},{height:"20%",left:"10%",bottom:"5%"}],legend:{data:["K线","MA5","MACD","DIF","DEA"]},xAxis:[{show:!1,type:"category",gridIndex:0,axisTick:{alignWithLabel:!0},axisLabel:{},data:e,splitNumber:200,min:"dataMin",max:"dataMax",scale:!0,boundaryGap:!1},{type:"category",gridIndex:1,axisTick:{alignWithLabel:!0},axisLabel:{},data:e,splitNumber:200,min:"dataMin",max:"dataMax",scale:!0,boundaryGap:!1}],yAxis:[{type:"value",gridIndex:0,name:"K线",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"left",min:s},{type:"value",gridIndex:1,name:"MACD",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"left"}],series:[{type:"candlestick",name:"K线",xAxisIndex:0,yAxisIndex:0,data:a,itemStyle:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"},markLine:{symbol:["none","none"],label:{show:!1},silent:!0,lineStyle:{type:"dashed",color:"rgba(128, 128, 128, 0.4)"},data:c},markPoint:{label:{formatter:function(t){}},data:l,symbolSize:function(t,e){return[10,15]}}},{name:"MA5",type:"line",xAxisIndex:0,yAxisIndex:0,data:this.calculateMA(5,a),smooth:!0,showSymbol:!1,lineStyle:{width:.5,color:"black"}},{name:"MACD",type:"bar",xAxisIndex:1,yAxisIndex:1,data:_.macd,itemStyle:{color:function(t){var e;return e=t.data>=0?"#F9293E":"#00aa3b",e}}},{name:"DIF",type:"line",symbol:"none",xAxisIndex:1,yAxisIndex:1,data:_.dif,lineStyle:{color:"#666666",width:1}},{name:"DEA",type:"line",symbol:"none",xAxisIndex:1,yAxisIndex:1,data:_.dea,lineStyle:{opacity:.8,color:"#FF9933",width:1}}]},t&&this.myChart.setOption(t,!0)}}}),Me=$e,Se=Object(f["a"])(Me,Ve,Ye,!1,null,"005d4cbc",null),qe=Se.exports,Te={data:function(){return{dateComValue:this.dayjs(),plot_data_date:null,day_data:null,week_data:null,month_data:null,day_week_month_data_default:{queued:{date:[],data:[]},plotted:{date:[],data:[]}}}},created:function(){this.day_data=this.lodash.cloneDeep(this.day_week_month_data_default),this.week_data=this.lodash.cloneDeep(this.day_week_month_data_default),this.month_data=this.lodash.cloneDeep(this.day_week_month_data_default)},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]},contract_change_date_by_main_ts_code:function(){var t=this.$store.state.future_info.contract_change_date_by_main_ts_code;return t}},watch:{"$store.state.future_info.main_code_interval_point_data":{deep:!0,handler:function(t,e){this.code_interval_point_data_ori()}},"$store.state.future_info.ts_code_interval_point_data":{deep:!0,handler:function(t,e){this.code_interval_point_data_ori()}}},methods:{code_interval_point_data_ori:function(){var t=this.$store.state.future_info.main_code_interval_point_data,e=this.$store.state.future_info.ts_code_interval_point_data,a={};if(a["D"]=e["D"],a["W"]=t["W"],a["M"]=t["M"],a["D"].length){var n=Math.floor(a["D"].length/2),o=a["D"][n].date;for(var i in o=this.dayjs(o).day(5).format("YYYY-MM-DD"),this.plot_data_date=o,a){var s=this.lodash.cloneDeep(this.day_week_month_data_default),r="";for(var d in a[i])r=a[i][d].date<=o?"plotted":"queued",s[r]["date"].push(a[i][d].date),s[r]["data"].push([a[i][d].open,a[i][d].close,a[i][d].low,a[i][d].high]);"M"===i?this.month_data=s:"W"===i?this.week_data=s:this.day_data=s}}},aside_data_click:function(t){if(1===t.id.length){var e=t.id[0];this.point_picture_func(e,this.dateComValue)}},point_picture_func:function(t,e){this.$store.dispatch("future_info/main_code_interval_point_data",{ts_code:t,start_date:e.add(-180,"month"),end_date:e,freq_code:"M"}),this.$store.dispatch("future_info/main_code_interval_point_data",{ts_code:t,start_date:e.add(-180,"week"),end_date:e,freq_code:"W"}),this.$store.dispatch("future_info/ts_code_interval_point_data",{ts_code:t,start_date:e.add(-270,"day"),end_date:e,freq_code:"D"}),this.$store.dispatch("future_info/contract_change_date_by_main_ts_code",{main_ts_code:t,start_date:e.add(-180,"month"),end_date:e})},changeEventDate:function(t){this.dateComValue=t,this.point_picture_func(this.dateComValue,this.dateComValue)},nextWeek:function(){var t={D:this.day_data,W:this.week_data,M:this.month_data},e=this.dayjs(this.plot_data_date).day(12).format("YYYY-MM-DD");0!=t["D"]["queued"]["date"].length&&t["D"]["queued"]["date"][0]>e&&(e=this.dayjs(e).day(12).format("YYYY-MM-DD"));var a=!1;for(var n in t)while(0!=t[n]["queued"]["date"].length&&t[n]["queued"]["date"][0]<=e)t[n]["plotted"]["date"].splice(0,1),t[n]["plotted"]["data"].splice(0,1),t[n]["plotted"]["date"].push(t[n]["queued"]["date"].splice(0,1)[0]),t[n]["plotted"]["data"].push(t[n]["queued"]["data"].splice(0,1)[0]),a=!0;0==a?this.$message("已经是最后一条数据"):this.plot_data_date=e},nextDay:function(){var t={D:this.day_data,W:this.week_data,M:this.month_data},e=this.plot_data_date,a=!1;if(0!=t["D"]["queued"]["date"].length)for(var n in e=t["D"]["queued"]["date"][0],t)0!=t[n]["queued"]["date"].length&&t[n]["queued"]["date"][0]<=e&&(t[n]["plotted"]["date"].splice(0,1),t[n]["plotted"]["data"].splice(0,1),t[n]["plotted"]["date"].push(t[n]["queued"]["date"].splice(0,1)[0]),t[n]["plotted"]["data"].push(t[n]["queued"]["data"].splice(0,1)[0]),a=!0);0==a?this.$message("已经是最后一条数据"):this.plot_data_date=e}},components:{datecom:z,k_bar:qe}},Ie=Te,Ae=Object(f["a"])(Ie,we,De,!1,null,"04fe8905",null),je=Ae.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"strategyResult"}},[a("el-header",{staticClass:"header-split-line"},[a("el-col",{attrs:{span:6}},[a("datecom",{attrs:{dateComValue:t.dateComValue},on:{changeDate:t.changeEventDate}})],1),a("el-col",{attrs:{span:6}},[a("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.search(e)}}},[t._v("查询")])],1)],1),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("ul",{attrs:{id:"array-rendering"}},t._l(t.result,(function(e,n){return a("li",{key:n},[a("p",{staticClass:"item-style-title"},[t._v(t._s(e.strategy_code))]),a("el-divider"),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""}},[a("el-table-column",{attrs:{prop:"ts_code",label:"ts_code",width:"180"}}),a("el-table-column",{attrs:{prop:"main_ts_code",label:"main_ts_code",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"name",width:"180"}}),a("el-table-column",{attrs:{prop:"freq_code",label:"freq_code",width:"180"}}),a("el-table-column",{attrs:{prop:"bs_flag",label:"bs_flag",width:"180"}})],1)],a("el-divider")],2)})),0),a("div",{staticStyle:{height:"200px"}})])],1)],1)},Fe=[],Pe={data:function(){return{result:[],dateComValue:this.dayjs()}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]}},methods:{changeEventDate:function(t){this.dateComValue=this.dayjs(t)},aside_data_click:function(t){t.id.length},search:function(){var t=this;T.post({url:"note/get_strategy_result_data",data:{trade_date:this.dateComValue.format("YYYY-MM-DD")}}).then((function(e){200===e.status&&(0===e.data.length&&t.$message({message:"未查询到数据",type:"warning"}),t.result=e.data)})).catch((function(t){console.log(t)}))}},components:{datecom:z}},We=Pe,Ee=(a("cb3e"),Object(f["a"])(We,Oe,Fe,!1,null,"dfba97dc",null)),Ne=Ee.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"summarize"}},[a("el-header",{staticClass:"header-split-line"},[a("datecom",{attrs:{dateComValue:t.dateComValue},on:{changeDate:t.changeEventDate}})],1),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("h2",[t._v("涨跌数量")]),a("h2",[t._v("日")]),a("summarize_bar",{key:1,attrs:{print_data:t.main_code_interval_raise_fall_data.D}}),a("h2",[t._v("周")]),a("summarize_bar",{key:2,attrs:{print_data:t.main_code_interval_raise_fall_data.W}}),a("h2",[t._v("月")]),a("summarize_bar",{key:3,attrs:{print_data:t.main_code_interval_raise_fall_data.M}}),a("h2",[t._v("收盘价")]),a("h2",[t._v("日")]),a("multi_point_line",{key:4,attrs:{print_data:t.main_code_relative_close_point_data.D}}),a("h2",[t._v("周")]),a("multi_point_line",{key:5,attrs:{print_data:t.main_code_relative_close_point_data.W}}),a("h2",[t._v("月")]),a("multi_point_line",{key:6,attrs:{print_data:t.main_code_relative_close_point_data.M}})],1)],1)],1)},ze=[],Be=a("2909"),Ue=(a("6062"),a("3ca3"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"main",staticStyle:{width:"auto",height:"400px"},attrs:{id:"main"}})}),Ge=[],Re={props:["print_data"],mounted:function(){this.echartsInit()},data:function(){return{myChart:""}},watch:{print_data:{handler:function(t,e){this.echartsUpdate()},deep:!0}},methods:{echartsInit:function(){this.myChart=this.$echarts.init(this.$refs.main)},echartsUpdate:function(){for(var t,e=this.print_data.date,a=this.print_data.raise,n=this.print_data.fall,o=[],i=0;i<a.length;i++)o.push(a[i]-n[i]);for(var s=0;s<n.length;s++)n[s]=-n[s];var r={itemStyle:{shadowBlur:10,shadowColor:"rgba(0,0,0,0.3)"}};t={legend:{data:["涨","跌","涨-跌"],left:"10%"},toolbox:{feature:{dataView:{show:!0,readOnly:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},tooltip:{},xAxis:{type:"category",data:e,name:"日期",axisLine:{onZero:!0},splitLine:{show:!1},splitArea:{show:!1}},yAxis:[{type:"value",name:"涨跌品种数量",interval:1}],grid:{bottom:100},series:[{name:"涨",type:"bar",color:"rgba(255,0,0,0.5)",emphasis:r,data:a},{name:"跌",type:"bar",barGap:"-100%",color:"rgba(0,255,0,0.5)",emphasis:r,data:n},{name:"涨-跌",type:"line",color:"rgba(106,90,205,0.5)",emphasis:r,data:o}]},t&&this.myChart.setOption(t,!0)}}},Ke=Re,He=Object(f["a"])(Ke,Ue,Ge,!1,null,null,null),Je=He.exports,Xe={data:function(){return{dateComValue:this.dayjs()}},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]},main_code_interval_raise_fall_data:function(){var t=this.$store.state.future_info.main_code_interval_raise_fall_data,e={};for(var a in t)e[a]=t[a].slice(-90);var n={};for(var o in e)for(var i in n[o]={date:[],raise:[],fall:[]},e[o])n[o]["date"].push(e[o][i].date),n[o]["raise"].push(e[o][i].raise_num),n[o]["fall"].push(e[o][i].fall_num);return n},main_code_relative_close_point_data:function(){var t=this.$store.state.future_info.main_code_relative_close_point_data,e={D:new Set,W:new Set,M:new Set};for(var a in t)for(var n in t[a]){var o=t[a][n];for(var i in o["data"]){var s=o["data"][i]["date"];e[a].add(s)}}var r={D:Object(Be["a"])(e["D"]),W:Object(Be["a"])(e["W"]),M:Object(Be["a"])(e["M"])};r["D"].sort(),r["W"].sort(),r["M"].sort();var d={D:{date:r["D"],data:[]},W:{date:r["W"],data:[]},M:{date:r["M"],data:[]}};for(var l in t)for(var c in t[l]){var u=t[l][c];d[l]["data"].push({ts_code:u["ts_code"],point:[]});var _=d[l]["data"].length-1,h=0,m=u["data"][0]["point"];for(var p in r[l]){var f=r[l][p];if(f==u["data"][h]["date"]){var v=u["data"][h]["point"];d[l]["data"][_]["point"].push(v),m=v,h+=1}else d[l]["data"][_]["point"].push(m)}}return d}},methods:{aside_data_click:function(t){this.$store.dispatch("future_info/main_code_interval_raise_fall_data",{ts_code_list:t.id,start_date:this.dateComValue.add(-150,"day"),end_date:this.dateComValue,freq_code:"D"}),this.$store.dispatch("future_info/main_code_interval_raise_fall_data",{ts_code_list:t.id,start_date:this.dateComValue.add(-100,"week"),end_date:this.dateComValue,freq_code:"W"}),this.$store.dispatch("future_info/main_code_interval_raise_fall_data",{ts_code_list:t.id,start_date:this.dateComValue.add(-100,"month"),end_date:this.dateComValue,freq_code:"M"}),this.$store.dispatch("future_info/main_code_relative_close_point_data",{ts_code_list:t.id,start_date:this.dateComValue.add(-150,"day"),end_date:this.dateComValue,freq_code:"D"}),this.$store.dispatch("future_info/main_code_relative_close_point_data",{ts_code_list:t.id,start_date:this.dateComValue.add(-100,"week"),end_date:this.dateComValue,freq_code:"W"}),this.$store.dispatch("future_info/main_code_relative_close_point_data",{ts_code_list:t.id,start_date:this.dateComValue.add(-100,"month"),end_date:this.dateComValue,freq_code:"M"})},changeEventDate:function(t){this.dateComValue=this.dayjs(t)}},components:{datecom:z,summarize_bar:Je,multi_point_line:re}},Ze=Xe,Qe=Object(f["a"])(Ze,Le,ze,!1,null,"d2030af2",null),ta=Qe.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"symbol"}},[a("el-header",{staticClass:"header-split-line"},[a("el-row",{attrs:{gutter:20,type:"flex"}},[a("el-col",{attrs:{span:6}},[a("datecom",{attrs:{dateComValue:t.dateComValue},on:{changeDate:t.changeEventDate}})],1),a("el-col",{attrs:{span:6}},[a("ts_code_com",{attrs:{tsCodeComValue:t.tsCodeComValue,mainTsCode:t.mainTsCode},on:{changeCode:t.changeTsCodeComValue}})],1)],1)],1),a("el-container",[a("el-aside",{staticClass:"main-el-aside",attrs:{width:"200px"}},[a("el-tree",{attrs:{data:t.aside_future_data,props:t.$store.state.defaultProps},on:{"node-click":t.aside_data_click}})],1),a("el-main",[a("h3",{staticClass:"comment-height"},[t._v("月线")]),a("k_bar",{key:1,attrs:{print_data:t.main_code_interval_point_data.M,contract_change_date:t.contract_change_date_by_main_ts_code,bs_note_data:t.bs_note_data.M,note_data:t.note_data.M}}),a("h3",{staticClass:"comment-height"},[t._v("周线")]),a("k_bar",{key:2,attrs:{print_data:t.main_code_interval_point_data.W,contract_change_date:t.contract_change_date_by_main_ts_code,bs_note_data:t.bs_note_data.W,note_data:t.note_data.W}}),a("h3",{staticClass:"comment-height"},[t._v("日线 "+t._s(t.dateComValue))]),a("k_bar",{key:3,attrs:{print_data:t.ts_code_interval_point_data.D,contract_change_date:t.contract_change_date_by_main_ts_code,bs_note_data:t.bs_note_data.D,note_data:t.note_data.D}}),a("h3",{staticClass:"comment-height"},[t._v("持仓明细")]),a("el-row",{attrs:{gutter:20,type:"flex"}},[a("el-col",{attrs:{span:12}},[a("k_vol_pie_bar",{key:4,attrs:{print_data:t.ts_code_interval_pure_volume_max_date_data.long,pie_name:t.pie_name_1},on:{changePieBroker:t.changePieBroker}})],1),a("el-col",{attrs:{span:12}},[a("k_vol_bar_origin",{key:5,attrs:{print_data:t.ts_code_interval_pure_volume_broker_data.long}})],1)],1),a("el-row",{attrs:{gutter:20,type:"flex"}},[a("el-col",{attrs:{span:12}},[a("k_vol_pie_bar",{key:6,attrs:{print_data:t.ts_code_interval_pure_volume_max_date_data.short,pie_name:t.pie_name_2},on:{changePieBroker:t.changePieBroker}})],1),a("el-col",{attrs:{span:12}},[a("k_vol_bar_origin",{key:7,attrs:{print_data:t.ts_code_interval_pure_volume_broker_data.short}})],1)],1),a("h3",{staticClass:"comment-height"},[t._v("前N持仓占比")]),a("k_vol_bar",{key:8,attrs:{print_data:t.ts_code_interval_pure_holding_data_first_n}}),a("div",{staticStyle:{height:"200px"}})],1)],1)],1)},aa=[],na=a("3835"),oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"main",staticStyle:{width:"auto",height:"600px"},attrs:{id:"main"}})},ia=[],sa={props:["print_data"],mounted:function(){this.echartsInit()},data:function(){return{myChart:""}},watch:{print_data:{handler:function(t,e){this.echartsUpdate()},deep:!0}},methods:{echartsInit:function(){this.myChart=this.$echarts.init(this.$refs.main)},negative_array:function(t){var e=[];for(var a in t)e.push(-t[a]);return e},echartsUpdate:function(){var t,e=this.print_data["1"],a=this.print_data["3"],n=this.print_data["20"];t={tooltip:{axisPointer:{type:"cross"}},axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#777"}},toolbox:{feature:{saveAsImage:{show:!0}}},grid:[{height:"25%",left:"10%",bottom:"65%"},{height:"25%",left:"10%",bottom:"35%"},{height:"25%",left:"10%",bottom:"5%"}],legend:{},xAxis:[{show:!1,type:"category",gridIndex:0,axisTick:{alignWithLabel:!0},data:e.date},{show:!1,type:"category",gridIndex:1,axisTick:{alignWithLabel:!0},data:a.date},{type:"category",gridIndex:2,axisTick:{alignWithLabel:!0},data:n.date}],yAxis:[{type:"value",gridIndex:0,name:"vol",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"left",min:"dataMin"},{type:"value",gridIndex:0,name:"vol percent",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"right",min:"dataMin"},{type:"value",gridIndex:1,name:"vol",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"left"},{type:"value",gridIndex:1,name:"vol percent",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"right"},{type:"value",gridIndex:2,name:"vol",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"left"},{type:"value",gridIndex:2,name:"vol percent",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"right"}],series:[{name:"1 vol",type:"bar",stack:"first_1",xAxisIndex:0,yAxisIndex:0,data:e.long,barWidth:"40%",itemStyle:{color:"#F9293E"}},{name:"1 vol",type:"bar",stack:"first_1",xAxisIndex:0,yAxisIndex:0,data:this.negative_array(e.short),barWidth:"40%",itemStyle:{color:"#00aa3b"}},{name:"1 percent",type:"line",xAxisIndex:0,yAxisIndex:1,data:e.long_percent,smooth:!1,showSymbol:!1,lineStyle:{width:.5,color:"black"}},{name:"1 percent",type:"line",xAxisIndex:0,yAxisIndex:1,data:this.negative_array(e.short_percent),smooth:!1,showSymbol:!1,lineStyle:{width:.5,color:"black"}},{name:"3 vol",type:"bar",stack:"first_3",xAxisIndex:1,yAxisIndex:2,data:a.long,barWidth:"40%",itemStyle:{color:"#F9293E"}},{name:"3 vol",type:"bar",stack:"first_3",xAxisIndex:1,yAxisIndex:2,data:this.negative_array(a.short),barWidth:"40%",itemStyle:{color:"#00aa3b"}},{name:"3 percent",type:"line",xAxisIndex:1,yAxisIndex:3,data:a.long_percent,smooth:!1,showSymbol:!1,lineStyle:{width:.5,color:"black"}},{name:"3 percent",type:"line",xAxisIndex:1,yAxisIndex:3,data:this.negative_array(a.short_percent),smooth:!1,showSymbol:!1,lineStyle:{width:.5,color:"black"}},{name:"20 vol",type:"bar",stack:"first_20",xAxisIndex:2,yAxisIndex:4,data:n.long,barWidth:"40%",itemStyle:{color:"#F9293E"}},{name:"20 vol",type:"bar",stack:"first_20",xAxisIndex:2,yAxisIndex:4,data:this.negative_array(n.short),barWidth:"40%",itemStyle:{color:"#00aa3b"}},{name:"20 percent",type:"line",xAxisIndex:2,yAxisIndex:5,data:n.long_percent,smooth:!1,showSymbol:!1,lineStyle:{width:.5,color:"black"}},{name:"20 percent",type:"line",xAxisIndex:2,yAxisIndex:5,data:this.negative_array(n.short_percent),smooth:!1,showSymbol:!1,lineStyle:{width:.5,color:"black"}}]},t&&this.myChart.setOption(t,!0)}}},ra=sa,da=Object(f["a"])(ra,oa,ia,!1,null,null,null),la=da.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"main",staticStyle:{width:"auto",height:"200px"},attrs:{id:"main"}})},ua=[],_a={props:["print_data"],mounted:function(){this.echartsInit()},data:function(){return{myChart:""}},watch:{print_data:{handler:function(t,e){this.echartsUpdate()},deep:!0}},methods:{echartsInit:function(){this.myChart=this.$echarts.init(this.$refs.main)},echartsUpdate:function(){var t,e=this.print_data.map((function(t){return t.date})),a=this.print_data.map((function(t){return t.amount})),n=this.print_data.map((function(t){return t.percent}));t={tooltip:{axisPointer:{type:"cross"}},axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#777"}},toolbox:{feature:{saveAsImage:{show:!0}}},grid:[{height:"80%",left:"10%",bottom:"10%"}],legend:{},xAxis:[{type:"category",gridIndex:0,axisTick:{alignWithLabel:!0},data:e}],yAxis:[{type:"value",gridIndex:0,name:"value",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"left"},{type:"value",gridIndex:0,name:"value percent",splitLine:{show:!1},nameLocation:"middle",nameTextStyle:{padding:25},position:"right"}],series:[{name:"value",type:"bar",xAxisIndex:0,yAxisIndex:0,data:a,barWidth:"40%",itemStyle:{color:"#F9293E"}},{name:"value percent",type:"line",xAxisIndex:0,yAxisIndex:1,data:n,smooth:!1,showSymbol:!1,lineStyle:{width:.5,color:"black"}}]},t&&this.myChart.setOption(t,!0)}}},ha=_a,ma=Object(f["a"])(ha,ca,ua,!1,null,null,null),pa=ma.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"main",staticStyle:{width:"auto",height:"300px"},attrs:{id:"main"}})},va=[],ga=(a("b0c0"),{props:["print_data","pie_name"],mounted:function(){this.echartsInit()},data:function(){return{myChart:""}},watch:{print_data:{handler:function(t,e){this.echartsUpdate()},deep:!0}},methods:{echartsInit:function(){this.myChart=this.$echarts.init(this.$refs.main)},echartsUpdate:function(){var t,e=this.print_data;e.sort((function(t,e){return e.value-t.value})),t={title:{text:this.pie_name,left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{bottom:10,left:"center",show:!1},series:[{type:"pie",radius:"65%",center:["50%","50%"],selectedMode:"single",data:e,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},t&&this.myChart.setOption(t,!0);var a=this;this.myChart.on("click",(function(t){a.$emit("changePieBroker",t.data.name)}))}}}),Ca=ga,ba=Object(f["a"])(Ca,fa,va,!1,null,null,null),ya=ba.exports,xa={data:function(){return{dateComValue:this.dayjs(),tsCodeComValue:"",mainTsCode:"",pie_name_1:"多头",pie_name_2:"空头",pie_name_3:"成交量-多",pie_name_4:"成交量-空",pieBroker:"",pie_volume_broker_data:null,pie_volume_broker_data_default:{long:[],short:[],long_vol:[],short_vol:[]}}},created:function(){this.pie_volume_broker_data=this.lodash.cloneDeep(this.pie_volume_broker_data_default)},computed:{aside_future_data:function(){return this.$store.getters["future_info/aside_future_data"]},main_code_interval_point_data:function(){var t=this.$store.state.future_info.main_code_interval_point_data,e={M:{date:[],data:[]},W:{date:[],data:[]}};for(var a in t)for(var n in t[a])e[a].date.push(t[a][n].date),e[a].data.push([t[a][n].open,t[a][n].close,t[a][n].low,t[a][n].high]);return e},ts_code_interval_point_data:function(){var t=this.$store.state.future_info.ts_code_interval_point_data,e={D:{date:[],data:[]}};for(var a in t)for(var n in t[a])e[a].date.push(t[a][n].date),e[a].data.push([t[a][n].open,t[a][n].close,t[a][n].low,t[a][n].high]);return e},ts_code_interval_pure_holding_data_first_n:function(){var t=this.$store.state.future_info.ts_code_interval_pure_holding_data_first_n,e={};for(var a in t){var n=t[a];for(var o in e[n.first_n]={date:[],long:[],long_percent:[],short:[],short_percent:[]},n.data){var i=n.data[o];e[n.first_n]["date"].push(i.date),e[n.first_n]["long"].push(i.long),e[n.first_n]["long_percent"].push(i.long_percent),e[n.first_n]["short"].push(i.short),e[n.first_n]["short_percent"].push(i.short_percent)}}return e},ts_code_interval_pure_volume_max_date_data:function(){var t=this.$store.state.future_info.ts_code_interval_pure_volume_data,e="1990-01-01";for(var a in t){var n=t[a];for(var o in n)n[o]["date"]>e&&(e=n[o]["date"])}var i={long:[],short:[],vol:[]};for(var s in t){var r=t[s];for(var d in r)r[d]["date"]==e&&i[s].push({name:r[d]["broker"],value:r[d]["amount"]})}return i},ts_code_interval_pure_volume_broker_data:function(){var t=this.format_ts_code_interval_pure_volume_data(this.pieBroker),e=Object(na["a"])(t,2),a=e[0],n=e[1],o=a[a.length-1],i="";i=o in n["long"]?"long":"short";var s=i+"_vol";this.pie_volume_broker_data[i]=[],this.pie_volume_broker_data[s]=[];var r=n["long"],d=n["short"],l=n["vol"];for(var c in a)a[c]in l?this.pie_volume_broker_data[s].push(l[a[c]]):this.pie_volume_broker_data[s].push({amount:0,percent:0,date:a[c]}),a[c]in r?this.pie_volume_broker_data[i].push(r[a[c]]):a[c]in d?this.pie_volume_broker_data[i].push({amount:-d[a[c]]["amount"],percent:-d[a[c]]["percent"],date:a[c]}):this.pie_volume_broker_data[i].push({amount:0,percent:0,date:a[c]});return this.pie_volume_broker_data},contract_change_date_by_main_ts_code:function(){var t=this.$store.state.future_info.contract_change_date_by_main_ts_code;return t},note_data:function(){var t=this.$store.state.future_info.note_data,e=[];if(""!=this.tsCodeComValue)for(var a in t)t[a]["ts_code"]==this.tsCodeComValue&&e.push(t[a]);else e=t;var n={D:[],W:[],M:[]};for(var o in e)n[e[o]["freq_code"]].push(e[o]);return n},bs_note_data:function(){var t=this.$store.state.future_info.bs_note_data,e=[];if(""!=this.tsCodeComValue)for(var a in t)t[a]["ts_code"]==this.tsCodeComValue&&e.push(t[a]);else e=t;var n={D:[],W:[],M:[]};for(var o in e)n[e[o]["freq_code"]].push(e[o]);return n}},methods:{format_ts_code_interval_pure_volume_data:function(t){var e=this.$store.state.future_info.ts_code_interval_pure_volume_data,a="1990-01-01",n="2199-12-31",o=[];for(var i in e){var s=e[i];for(var r in s)s[r]["broker"]==this.pieBroker&&(s[r]["date"]>a&&(a=s[r]["date"]),s[r]["date"]<n&&(n=s[r]["date"]),o.push(s[r]["date"]))}o=Object(Be["a"])(new Set(o)),o.sort();var d={long:{},short:{},vol:{}};for(var l in e){var c=e[l];for(var u in c)c[u]["broker"]==this.pieBroker&&(d[l][c[u]["date"]]={amount:c[u]["amount"],percent:c[u]["percent"],date:c[u]["date"]})}return[o,d]},aside_data_click:function(t){if(1==t.id.length){var e=t.id[0];this.mainTsCode=t.id[0],this.tsCodeComValue="",this.pieBroker="",this.pie_volume_broker_data=this.lodash.cloneDeep(this.pie_volume_broker_data_default),this.point_picture_func(e,this.dateComValue),this.volume_picture_func(e,this.dateComValue)}},point_picture_func:function(t,e){this.$store.dispatch("future_info/main_code_interval_point_data",{ts_code:t,start_date:e.add(-180,"month"),end_date:e,freq_code:"M"}),this.$store.dispatch("future_info/main_code_interval_point_data",{ts_code:t,start_date:e.add(-180,"week"),end_date:e,freq_code:"W"}),this.$store.dispatch("future_info/contract_change_date_by_main_ts_code",{main_ts_code:t,start_date:e.add(-180,"month"),end_date:e}),this.$store.dispatch("future_info/note_data",{main_ts_code:this.mainTsCode,start_date:e.add(-180,"month"),end_date:e}),this.$store.dispatch("future_info/bs_note_data",{main_ts_code:this.mainTsCode,start_date:e.add(-180,"month"),end_date:e})},volume_picture_func:function(t,e){this.$store.dispatch("future_info/ts_code_interval_point_data",{ts_code:t,start_date:e.add(-270,"day"),end_date:e,freq_code:"D"}),this.$store.dispatch("future_info/ts_code_interval_pure_holding_data_first_n",{ts_code:t,start_date:e.add(-180,"day"),end_date:e}),this.$store.dispatch("future_info/ts_code_interval_pure_volume_data",{ts_code:t,start_date:e.add(-180,"day"),end_date:e})},changeEventDate:function(t){this.dateComValue=this.dayjs(t);var e=this.tsCodeComValue;e||(e=this.mainTsCode),this.point_picture_func(e,this.dateComValue),this.volume_picture_func(e,this.dateComValue)},changeTsCodeComValue:function(t){this.tsCodeComValue=t,this.volume_picture_func(this.tsCodeComValue,this.dateComValue)},changePieBroker:function(t){this.pieBroker=t}},components:{datecom:z,ts_code_com:H,k_bar:qe,k_vol_bar:la,k_vol_bar_origin:pa,k_vol_pie_bar:ya}},ka=xa,wa=(a("ec85"),Object(f["a"])(ka,ea,aa,!1,null,null,null)),Da=wa.exports;l["default"].use(w["a"]);var Va=[{path:"/login",name:"Login",component:Nt,meta:{requireAuth:!1}},{path:"/summarize",name:"Summarize",component:ta,meta:{requireAuth:!0}},{path:"/symbol",name:"Symbol",component:Da,meta:{requireAuth:!0}},{path:"/step",name:"Step",component:je,meta:{requireAuth:!0}},{path:"/note-write",name:"NoteWrite",component:Qt,meta:{requireAuth:!0}},{path:"/BsNoteWrite",name:"BsNoteWrite",component:vt,meta:{requireAuth:!0}},{path:"/NormalNote",name:"NormalNote",component:Rt,meta:{requireAuth:!0}},{path:"/CommonNoteWrite",name:"CommonNoteWrite",component:jt,meta:{requireAuth:!0}},{path:"/prebs",name:"Prebs",component:ke,meta:{requireAuth:!0}},{path:"/CalcGainloss",name:"CalcGainloss",component:Mt,meta:{requireAuth:!0}},{path:"/PointGap",name:"PointGap",component:ve,meta:{requireAuth:!0}},{path:"/StrategyResult",name:"StrategyResult",component:Ne,meta:{requireAuth:!0}}],Ya=new w["a"]({routes:Va});Ya.beforeEach((function(t,e,a){t.meta.requireAuth?j.state.login.token?a():(console.log("该页面需要登陆"),a({path:"/login"})):a()}));var $a=Ya;l["default"].use(r.a),l["default"].prototype.$echarts=i,l["default"].prototype.lodash=d,l["default"].prototype.dayjs=o.a,l["default"].config.productionTip=!1,new l["default"]({router:$a,store:j,render:function(t){return t(k)}}).$mount("#app")},"5fa4":function(t,e,a){"use strict";a("62f8")},6181:function(t,e,a){"use strict";a("af3b")},"62f8":function(t,e,a){},7559:function(t,e,a){"use strict";a("0144")},"7a3a":function(t,e,a){"use strict";a("901c")},"7c63":function(t,e,a){"use strict";a("89e0")},"89e0":function(t,e,a){},"8b27":function(t,e,a){},"901c":function(t,e,a){},"921e":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},o=[]},"94d4":function(t,e,a){"use strict";var n=a("2e93"),o=a.n(n);e["default"]=o.a},"9a1a":function(t,e,a){},a257:function(t,e,a){"use strict";a("aec1")},a4f5:function(t,e,a){},a7e8:function(t,e,a){},a821:function(t,e,a){},aec1:function(t,e,a){},af3b:function(t,e,a){},b00b:function(t,e,a){},cb3e:function(t,e,a){"use strict";a("dfad")},cdba:function(t,e,a){"use strict";a("b00b")},dd7b:function(t,e,a){"use strict";a("a4f5")},dfad:function(t,e,a){},ec85:function(t,e,a){"use strict";a("8b27")},ecfe:function(t,e,a){"use strict";a("a7e8")},fa58:function(t,e,a){"use strict";a("a821")},fd2d:function(t,e,a){"use strict";var n=a("921e"),o=a("94d4"),i=a("2877"),s=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"4217c61f",null);e["default"]=s.exports}});
//# sourceMappingURL=app.7c23ccb3.js.map